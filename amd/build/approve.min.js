define("mod_datalynx/approve",["jquery"],(function($){return{init:function(approvedicon,disapprovedicon){$(".datalynxfield__approve").each((function(){var params=function(paramstring){let params=paramstring.split("&"),output={};for(var i=0;i<params.length;i++){var param=params[i];output[param.split("=")[0]]=param.split("=")[1]}"approve"in output?(output.entryid=output.approve,output.action="approve"):"disapprove"in output?(output.entryid=output.disapprove,output.action="disapprove"):(output.entryid=output.approve,output.action="approve");return output}(this.href.split("?")[1]);$(this).off("click"),$(this).click((function(e){e.preventDefault();$.ajax({method:"POST",url:"field/_approve/ajax.php",data:params,context:this,success:function(data){data&&$(this).children().hasClass("approved")?($(this).children().removeClass("approved"),$(this).children().prop("src",disapprovedicon),$(this).children().prop("alt","approve"),$(this).children().prop("title","approve"),params.action="approve"):data&&!$(this).children().hasClass("approved")&&($(this).children().addClass("approved"),$(this).children().prop("src",approvedicon),$(this).children().prop("alt","disapprove"),$(this).children().prop("title","disapprove"),params.action="disapprove")}})}))}))}}}));

//# sourceMappingURL=approve.min.js.map