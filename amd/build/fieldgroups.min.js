define(["jquery"],function(a){return{init:function(b,c,d){c++;for(var e=c;e<=d;e++)a("div[data-field-name='"+b+"'] [data-line='"+e+"']").hide();a("div[data-field-name='"+b+"'] #id_addline").each(function(){a(this).off("click"),a(this).click(function(c){c.preventDefault(),a("input[name=visiblelines]").get(0).value<d&&(a("div[data-field-name='"+b+"'] .lines:hidden:first").show(),a("input[name=visiblelines]").get(0).value++)})}),a("div[data-field-name='"+b+"'] [data-removeline]").each(function(){a(this).addClass("btn-danger"),a(this).off("click"),a(this).click(function(c){c.preventDefault(),a(this).closest("[data-line]").find(".fp-file").each(function(){a(this).click(),a(".fp-file-delete:visible").trigger("click"),a(".fp-dlg-butconfirm:visible").trigger("click")});for(var e=a(this).data("removeline"),f=e;f<=d;f++)for(var g=a("div[data-field-name='"+b+"'] div[data-line='"+(f+1)+"'] input[type='text']"),h=0;h<g.length;h++){var i=g.eq(h).val(),j=a("div[data-field-name='"+b+"'] div[data-line='"+f+"'] input[type='text']")[h].id;a("#"+j).val(i)}a("div[data-field-name='"+b+"'] div[data-line='"+d+"'] input[type='text']").val(""),a("input[name=visiblelines]").get(0).value>0&&(a("div[data-field-name='"+b+"'] .lines:visible:last").hide(),a("input[name=visiblelines]").get(0).value--)})})}}});