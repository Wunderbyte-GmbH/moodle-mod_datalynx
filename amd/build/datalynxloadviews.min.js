define("mod_datalynx/datalynxloadviews",["jquery"],(function($){return{init:function(options){var dffield=options.dffield,viewfield=options.viewfield,textfieldfield=options.textfieldfield,actionurl=options.acturl,presentdlid=options.presentdlid,thisfieldstring=options.thisfieldstring,update=options.update,fieldtype=options.fieldtype;$("#id_"+dffield).on("change",(function(){var view=$("#id_"+viewfield),textfield=$("#id_"+textfieldfield),dfid=$(this).val();view&&view.find("option").remove().end(),textfield&&textfield.find("option").remove().end(),0!=dfid&&$.ajax({method:"POST",url:actionurl,data:"dfid="+dfid,context:this,dataType:"text",success:function(data){if(""!=data){var respoptions=data.split("#");if(view)for(var viewoptions=respoptions[0].split(","),i=0;i<viewoptions.length;++i){var qid=(arr=viewoptions[i].trim().split(" ")).shift(),qname=arr.join(" ");view.append($("<option></option>").attr("value",qid).text(qname))}if(textfield){var textfieldoptions=respoptions[1].split(",");dfid==presentdlid&&0==update&&"text"==fieldtype&&textfield.append($("<option></option>").attr("value","-1").text(thisfieldstring));for(i=0;i<textfieldoptions.length;++i){var arr;qid=(arr=textfieldoptions[i].trim().split(" ")).shift(),qname=arr.join(" ");textfield.append($("<option></option>").attr("value",qid).text(qname))}}}},error:function(){alert("Error while loading views and textfields.")}})}))}}}));

//# sourceMappingURL=datalynxloadviews.min.js.map